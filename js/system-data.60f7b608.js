"use strict";(self["webpackChunkscui"]=self["webpackChunkscui"]||[]).push([[707],{612:function(e,a,l){l.r(a),l.d(a,{default:function(){return c}});var t=l(6252);const i={class:"left-panel right-panel-search"},d=(0,t._)("div",{class:"right-panel"},null,-1);function n(e,a,l,n,s,o){const r=(0,t.up)("el-tree"),u=(0,t.up)("el-aside"),c=(0,t.up)("el-button"),h=(0,t.up)("el-header"),p=(0,t.up)("el-table-column"),m=(0,t.up)("el-popconfirm"),g=(0,t.up)("el-button-group"),f=(0,t.up)("scTable"),w=(0,t.up)("el-main"),b=(0,t.up)("el-container"),_=(0,t.up)("save-dialog"),k=(0,t.Q2)("loading");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.wy)(((0,t.wg)(),(0,t.j4)(b,null,{default:(0,t.w5)((()=>[(0,t.Wm)(u,{width:"220px"},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{ref:"category",class:"menu","node-key":"label",data:s.category,onNodeClick:o.loadData,"default-expanded-keys":["基础数据"],"current-node-key":"基础数据","highlight-current":!0,"expand-on-click-node":!1},null,8,["data","onNodeClick"])])),_:1}),(0,t.Wm)(b,null,{default:(0,t.w5)((()=>[(0,t.Wm)(w,{class:"nopadding"},{default:(0,t.w5)((()=>[(0,t.Wm)(b,null,{default:(0,t.w5)((()=>[(0,t.Wm)(h,null,{default:(0,t.w5)((()=>[(0,t._)("div",i,[(0,t.Wm)(c,{type:"primary",onClick:o.add},{default:(0,t.w5)((()=>[(0,t.Uk)("新增数据")])),_:1},8,["onClick"])]),d])),_:1}),(0,t.Wm)(w,{class:"nopadding"},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{ref:"table",data:s.data,stripe:"",highlightCurrentRow:"",hidePagination:!0,hideDo:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{label:"ID",prop:"id",width:"60"}),(0,t.Wm)(p,{label:"数据名称",prop:"alias",width:"120"}),(0,t.Wm)(p,{label:"数值",prop:"value",width:"120"}),(0,t.Wm)(p,{label:"数据类型",prop:"type",width:"120"}),(0,t.Wm)(p,{label:"创建时间",prop:"creat_time",width:"120"}),(0,t.Wm)(p,{label:"修改时间",prop:"change_time",width:"120"}),(0,t.Wm)(p,{label:"操作",fixed:"right",align:"right",width:"130"},{default:(0,t.w5)((a=>[(0,t.Wm)(g,null,{default:(0,t.w5)((()=>[(0,t.Wm)(c,{text:"",type:"primary",size:"small",onClick:e=>o.table_edit(a.row,a.$index)},{default:(0,t.w5)((()=>[(0,t.Uk)("编辑")])),_:2},1032,["onClick"]),(0,t.Wm)(m,{title:"确定删除吗？",onConfirm:l=>e.table_del(a.row,a.$index)},{reference:(0,t.w5)((()=>[(0,t.Wm)(c,{text:"",type:"primary",size:"small"},{default:(0,t.w5)((()=>[(0,t.Uk)("删除")])),_:1})])),_:2},1032,["onConfirm"])])),_:2},1024)])),_:1})])),_:1},8,["data"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})),[[k,s.loading]]),s.dialog.save?((0,t.wg)(),(0,t.j4)(_,{key:0,ref:"saveDialog",onSuccess:o.handleSuccess,onClosed:a[0]||(a[0]=e=>s.dialog.save=!1)},null,8,["onSuccess"])):(0,t.kq)("",!0)],64)}var s=l(4596),o={name:"basedata",components:{saveDialog:s["default"]},data(){return{dialog:{save:!1},current_node:{id:"",label:"基础数据"},category:[{id:"all",label:"基础数据",children:[{id:"业务管理",label:"业务管理"},{id:"部门管理",label:"部门管理"},{id:"评审参数类型管理",label:"评审参数类型管理"},{id:"发票类型管理",label:"发票类型管理"}]}],data:[],date:[],apiObj:this.$API.system.basedata.list,search:{keyword:""},loading:!1}},methods:{add(){this.dialog.save=!0,this.$nextTick((()=>{this.$refs.saveDialog.open().setData({type:this.current_node.id})}))},table_edit(e){this.dialog.save=!0,this.$nextTick((()=>{this.$refs.saveDialog.open("edit").setData(e)}))},upsearch(){},rowClick(e){this.infoDrawer=!0,this.$nextTick((()=>{this.$refs.info.setData(e)}))},async loadData(e){try{this.loading=!0,this.current_node=e;let a={type:e.label},l=await this.$API.system.basedata.list.post(a);this.data=l.data,console.log(l),console.log(e)}catch(a){}finally{this.loading=!1}},handleSuccess(){this.loadData(this.current_node)}},mounted(){this.loadData(this.current_node)}},r=l(3744);const u=(0,r.Z)(o,[["render",n]]);var c=u}}]);