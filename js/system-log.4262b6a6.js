"use strict";(self["webpackChunkscui"]=self["webpackChunkscui"]||[]).push([[255,370],{4323:function(e,l,t){t.r(l),t.d(l,{default:function(){return f}});var a=t(6252);function o(e,l,t,o,r,i){const n=(0,a.up)("el-icon-circle-close-filled"),u=(0,a.up)("el-icon"),f=(0,a.up)("el-icon-warning-filled"),s=(0,a.up)("el-icon-info-filled"),c=(0,a.up)("el-table-column"),d=(0,a.up)("scTable"),p=(0,a.up)("el-main"),w=(0,a.up)("el-container"),m=(0,a.up)("info"),b=(0,a.up)("el-drawer");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(w,null,{default:(0,a.w5)((()=>[(0,a.Wm)(w,null,{default:(0,a.w5)((()=>[(0,a.Wm)(p,{class:"nopadding"},{default:(0,a.w5)((()=>[(0,a.Wm)(w,null,{default:(0,a.w5)((()=>[(0,a.Wm)(p,{class:"nopadding"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{ref:"table",apiObj:r.apiObj,stripe:"",highlightCurrentRow:"",onRowClick:i.rowClick},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{"column-key":"level",label:"级别",prop:"level",width:"60",filters:r.infoLevel,"filter-method":i.levelFilter},{default:(0,a.w5)((e=>["error"==e.row.level?((0,a.wg)(),(0,a.j4)(u,{key:0,style:{color:"#f56c6c"}},{default:(0,a.w5)((()=>[(0,a.Wm)(n)])),_:1})):(0,a.kq)("",!0),"warn"==e.row.level?((0,a.wg)(),(0,a.j4)(u,{key:1,style:{color:"#e6a23c"}},{default:(0,a.w5)((()=>[(0,a.Wm)(f)])),_:1})):(0,a.kq)("",!0),"info"==e.row.level?((0,a.wg)(),(0,a.j4)(u,{key:2,style:{color:"#409eff"}},{default:(0,a.w5)((()=>[(0,a.Wm)(s)])),_:1})):(0,a.kq)("",!0)])),_:1},8,["filters","filter-method"]),(0,a.Wm)(c,{label:"ID",prop:"id",width:"60"}),(0,a.Wm)(c,{label:"日志类型",prop:"name",width:"150"}),(0,a.Wm)(c,{label:"操作用户",prop:"username",width:"100"}),(0,a.Wm)(c,{label:"内容",prop:"content",width:"200"}),(0,a.Wm)(c,{label:"客户端IP",prop:"ip",width:"100"}),(0,a.Wm)(c,{label:"日志时间",prop:"start_time",width:"170"})])),_:1},8,["apiObj","onRowClick"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(b,{modelValue:r.infoDrawer,"onUpdate:modelValue":l[0]||(l[0]=e=>r.infoDrawer=e),title:"日志详情",size:600,"destroy-on-close":""},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{ref:"info"},null,512)])),_:1},8,["modelValue"])],64)}var r=t(6701),i={name:"log",components:{info:r["default"]},data(){return{infoDrawer:!1,infoLevel:[{text:"info",value:"info"},{text:"error",value:"error"},{text:"warn",value:"warn"}],category:[{label:"系统日志",children:[{label:"debug"},{label:"info"},{label:"warn"},{label:"error"},{label:"fatal"}]},{label:"应用日志",children:[{label:"selfHelp"},{label:"WechatApp"}]}],logType:"",date:[],apiObj:this.$API.system.log.list,search:{keyword:""}}},methods:{upsearch(){this.logType},rowClick(e){this.infoDrawer=!0,this.$nextTick((()=>{this.$refs.info.setData(e)}))},selectDate(e){console.log(e)},levelFilter(e,l,t){return console.log(this.$refs.table.$refs.scTable,t),l.level==e}}},n=t(3744);const u=(0,n.Z)(i,[["render",o]]);var f=u}}]);